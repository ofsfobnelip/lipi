class b{constructor(a){this.sel=a,this.elm=[],this.init()}init(){let a=this.sel,b=[];b="object"==typeof a?"innerHTML"in a?[a]:a:document.querySelectorAll(a),this.length=b.length;for(let c=0;c<this.length;c++)this[c]=b[c];return this.elm=b,this}html(){let a=arguments;if(0==this.length)return this;if(0==a.length)return this[0].innerHTML;if(1==a.length){for(let b of this.elm)b.innerHTML=a[0];return this}}text(){let a=arguments;if(0==this.length)return this;if(0==a.length)return this[0].innerText;if(1==a.length){for(let b of this.elm)b.innerText=a[0];return this}}val(){let a=arguments;if(0==this.length)return this;if(0==a.length)return this[0].value;if(1==a.length){for(let b of this.elm)b.value=a[0];return this}}attr(){let a=arguments;if(0==this.length)return this;if(1==a.length){if("object"!=typeof a[0])return this[0].getAttribute(a[0]);for(let c of this.elm)for(let b in a[0])c.setAttribute(b,a[0][b]);return this}if(2==a.length){for(let d of this.elm)d.setAttribute(a[0],a[1]);return this}}removeAttr(){let a=arguments;for(let b of this.elm)b.removeAttribute(a[0]);return this}trigger(){let a=arguments;for(let b of this.elm)b.dispatchEvent(new Event(a[0]));return this}on(){let a=arguments;for(let b of this.elm)b.addEventListener(a[0],a[1]);return this}append(){let a=arguments;for(let b of this.elm)b.insertAdjacentHTML("beforeend",a[0]);return this}appendHTML(){let b=arguments,a=d.make(b[0]);for(let e of this.elm)e.insertAdjacentElement("beforeend",a);return c(a)}afterHTML(){let b=arguments,a=d.make(b[0]);for(let e of this.elm)e.insertAdjacentElement("afterend",a);return c(a)}after(){let a=arguments;for(let b of this.elm)b.insertAdjacentHTML("afterend",a[0]);return this}before(){let a=arguments;for(let b of this.elm)b.insertAdjacentHTML("beforebegin",a[0]);return this}addClass(){let a=arguments;for(let b of this.elm)b.classList.add(a[0]);return this}removeClass(){let a=arguments;for(let b of this.elm)b.classList.remove(a[0]);return this}toggleClass(){let a=arguments;for(let b of this.elm)b.classList.toggle(a[0]);return this}focus(){return arguments,0==this.length||this[0].focus(),this}css(){let a=arguments;if(0==this.length)return this;if(1==a.length){if("object"==typeof a[0]){for(let c of this.elm)Object.assign(c.style,a[0]);return this}{let b=getComputedStyle(this[0]);return void 0!=b&&null!=b?b[a[0]]:""}}if(2==a.length){for(let d of this.elm)d.style[a[0]]=a[1];return this}}removeCss(){let a=arguments;for(let b of this.elm)b.style.removeProperty(a[0]);return this}check(){let a=arguments;if(0==this.length)return this;if(0==a.length)this[0].checked;else if(1==a.length){for(let b of this.elm)b.checked=a[0];return this}}show(){let d={div:"block",span:"inline"};for(let e of this.elm){let a=c(e);if("none"==a.css("display")&&(a.removeCss("display"),"none"==a.css("display"))){let b=e.tagName.toLowerCase();if(b in d)a.css("display",d[b]);else{let f=c("body").appendHTML(`<${b}></${b}>`);a.css("display",f.css("display")),f.remove()}}}return this}hide(){for(let a of this.elm)"none"!=c(a).css("display")&&(a.style.display="none");return this}children(){let a=[];for(let b of this.elm)for(let c of b.children)a.push(c);return a}remove(){for(let a of this.elm)a.remove();return this}find(){let f=arguments;if(0==this.length)return this;let a=c(d.make("<div></div>")),e=this[0].querySelectorAll(f[0]);a.length=e.length;for(let b=0;b<a.length;b++)a[b]=e[b];return a.elm=e,a}width(){return 0==this.length?this:this[0].offsetWidth}height(){return 0==this.length?this:this[0].offsetHeight}parent(){return 0==this.length?this:c(this[0].parentElement)}parents(){if(0==this.length)return c([]);for(var a=this[0],b=[];a;)b.push(a),a=a.parentNode;return b}index(a){return this.elm.indexOf(a)}offset(d){if(0==this.length)return{top:0,left:0};var b,c,a=this[0];return a?a.getClientRects().length?(b=a.getBoundingClientRect(),c=a.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}:void 0}scrollLeft(){return 0==this.length?0:this[0].scrollLeft}scrollTop(){return 0==this.length?0:this[0].scrollTop}prop(){let a=arguments;return this.attr(a)}position(a=null){if(0==this.length)return{top:0,left:0};let b=this[0].getBoundingClientRect();var a=this[0].parentElement.getBoundingClientRect();return{top:b.top-a.top,left:b.left-a.left}}resize(){if(0==this.length)return this;for(let b of this.elm){let e=c(b);b.style.width="";let f=b.innerHTML,a=b.outerHTML;a=d.replace_all(a,f,""),a=d.replace_all(a,"id=","idk="),a=c("body").appendHTML(a).show(),a.html(`<option>${e.find("option:checked").html()}</option>`);let g=a.width();a.remove(),b.style.width=`${g+7}px`}return this}}class a{make(b){var a=document.createElement("div");return a.innerHTML=b.trim(),a.firstChild}ajax(g,a={}){let b=new XMLHttpRequest;"xhr"in a&&(b=a.xhr());let c=!("async"in a)||a.async,h="type"in a?a.type:"GET";b.open(h,g,c);let d="data"in a?a.data:null;if("dataType"in a&&(b.responseType=a.dataType),"json"in a&&(d=JSON.stringify(a.json),b.setRequestHeader("content-type","application/json;charset=utf-8")),"contentType"in a&&b.setRequestHeader("content-type",a.contentType),"headers"in a)for(let e in a.headers)b.setRequestHeader(e,a.headers[e]);b.send(d);let i=function(){let d=function(c,d=!1){let a=b.getResponseHeader(c);return null==a|| void 0==a?void 0:d?a.split(";")[0]:a}("content-type",!0),c=b.response;return 2==parseInt(b.status/100)?("application/json"==d&&"json"!=b.responseType&&(c=JSON.parse(c)),"success"in a&&a.success(c,b,b.status,d)):"error"in a&&a.error(c,b,b.status,d),c};if(!c)return i();{let f=new Promise(a=>{b.onerror=()=>a("Network Error"),b.onload=()=>a(i())});return f.xhr=b,f}}get(b,a={}){return a.type="GET",this.ajax(b,a)}post(b,a={}){return a.type="POST",this.ajax(b,a)}getScript(b,d=null){let a=document.createElement("script");a.src=b,c("body")[0].appendChild(a),a.onload=()=>{a.remove(),null!=d&&d()}}isPlainObject(a){return"object"==typeof a&&a.constructor==Object}in(a,b){return -1!=a.indexOf(b)}replace_all(b,a,c){a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var d=new RegExp(a,"g");return b.replace(d,c)}last(a,b=-1){return null==a|| void 0==a?"":a[a.length+b]}time(){return new Date().getTime()/1e3}dict_rev(a){let b={};for(let c in a)b[a[c]]=c;return b}substring(b,c,a=null){return(null==a&&(a=b.length),a>0)?b.substring(c,a):a<0?b.substring(c,b.length+a):void 0}format(b,c){for(let a=0;a<c.length;a++)b=this.replace_all(b,`{${a}}`,c[a]);return b}json_to_address(a){if(null==a| void 0==a)return[];let b=[];function e(a,e,f){let h=typeof e[a],g=`${f}/${a}`;Array.isArray(a)?d(e[a],g):"object"==h?c(e[a],g):b.push(`${f}/${a}`)}function c(a,b=""){for(let c in a)e(c,a,b)}function d(b,c=""){for(let a=0;a<b.length;a++)e(a,b,c)}return"object"==typeof a?a=c(a):Array.isArray(a)&&(a=d(a)),b}val_from_adress(b,d){let a=d;if("/"==b)return a;for(let e of b=b.substring(1).split("/")){let c=e;Array.isArray(a)&&(c=parseInt(c)),a=a[c]}return a}set_val_from_adress(d,e,g=null,h=!1){let a=e,f=(d=d.substring(1).split("/")).length;for(let c=0;c<f;c++){let b=d[c];Array.isArray(a)&&(b=parseInt(b)),c==f-1?a[b]=g:(b in a||!h||(a[b]={}),a=a[b])}return e}}void 0!=c&&(c=void 0);var c=function(c){let a=new b(c);return a.init(),a};void 0!=d&&(d=void 0);var d=new a